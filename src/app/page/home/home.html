<div class="flex justify-center flex-col gap-6 items-center w-full h-screen">
  <form class="max-w-md rounded-lg bg-gray-100 p-6 shadow-sm w-md h-min mt-6" #form="ngForm">
    <fieldset class="mb-4 flex flex-col gap-1">
      <label for="prefix" class="text-sm font-medium text-gray-700"> Prefixo </label>
      <input
        [(ngModel)]="startWithInput"
        id="prefix"
        name="prefix"
        type="text"
        autocomplete="off"
        placeholder="Ex: Sr., Dra."
        class="rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/30"
      />
    </fieldset>

    <fieldset class="flex flex-col gap-1">
      <label for="name" class="text-sm font-medium text-gray-700"> Nome </label>
      <input
        id="name"
        name="name"
        ngModel
        type="text"
        required
        autocomplete="off"
        [starts-with]="startWithInput"
        placeholder="Seu nome completo"
        class="rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/30"
      />
    </fieldset>

    <p class="p-1 bg-red-200 mt-4 rounded-sm text-red-800">Form is-valid {{ form.valid }}</p>
    <p class="p-1 bg-red-200 mt-4 rounded-sm text-red-800">
      Form erros {{ form.controls['name'].errors | json }}
    </p>

    <button
      (click)="printForm()"
      type="submit"
      class="mt-4 cursor-pointer px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded hover:bg-blue-700 transition-colors shadow"
    >
      Print form
    </button>
  </form>

  <div
    class="flex mx-8 gap-3 rounded-md border border-slate-200 border-l-4 border-l-blue-600 bg-slate-50 p-4 text-slate-700"
  >
    <!-- Conteúdo -->
    <div class="space-y-3 text-sm">
      <div class="font-semibold text-slate-900">Validador Customizável de Prefixo (Angular)</div>

      <p>
        Este projeto implementa um <strong>validador customizável e reativo</strong>
        para campos de texto, responsável por garantir que o valor informado
        <strong>inicie com um prefixo obrigatório</strong>.
      </p>

      <p>
        O prefixo é configurável dinamicamente e pode ser utilizado em diversos cenários onde
        padrões são exigidos.
      </p>

      <ul class="list-disc space-y-1 pl-5">
        <li><strong>Código de estados:</strong> CE12345, RN98765, SP0001</li>
        <li><strong>Código de filiais:</strong> BR-001, US-204, EU-778</li>
        <li><strong>Prefixos funcionais:</strong> ADM_JOAO, USER_MARIA</li>
        <li><strong>Identificadores internos:</strong> PROD_ABC123</li>
      </ul>

      <p>
        Um diferencial importante é o comportamento <strong>reativo</strong>. Caso o prefixo seja
        alterado enquanto o campo já possui valor, o Angular executa uma nova validação
        automaticamente, <strong>sem necessidade de interação do usuário</strong>.
      </p>

      <p>
        Esse comportamento é viabilizado pela implementação do método
        <code class="rounded bg-slate-200 px-1.5 py-0.5 text-xs"> registerOnValidatorChange </code>,
        garantindo consistência no estado do formulário.
      </p>

      <p>
        A abordagem reduz inconsistências, evita validações manuais e facilita a integração com
        <strong>Reactive Forms</strong>.
      </p>
    </div>
  </div>
</div>
